
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Repositorio dedicado al robot 3DBot montado con una placa ESP32 STEAMakers y la shield Imagina 3DBot, los tres creación de Innova Didactic. Veremos todo sobre su programación con Arduinoblocks aunque en algún caso se podrá recurrir al IDE de Arduino.">
      
      
        <meta name="author" content="Federico Coca">
      
      
        <link rel="canonical" href="https://fgcoca.github.io/3DBot-con-ESP32-STEAMakers/3DBot/Av_3DBot/">
      
      
        <link rel="prev" href="../AAm_3DBot/">
      
      
        <link rel="next" href="../archivosFab/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.12">
    
    
      
        <title>Avanzadas - 3DBot con ESP32 STEAMakers</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#actividades-3dbot" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="3DBot con ESP32 STEAMakers" class="md-header__button md-logo" aria-label="3DBot con ESP32 STEAMakers" data-md-component="logo">
      
  <img src="../../img/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            3DBot con ESP32 STEAMakers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Avanzadas
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Modo Oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Modo Oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Modo Claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo Claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fgcoca/3DBot-con-ESP32-STEAMakers" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    3DBot-con-ESP32-STEAMakers
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Introducción

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../arduinoblocks/introAB/" class="md-tabs__link">
          
  
  Arduinoblocks

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../IDE/introIDE/" class="md-tabs__link">
          
  
  IDE 2 de Arduino

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ESP32/introESP32/" class="md-tabs__link">
          
  
  ESP32 STEAMakers

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Imagina/introImagina/" class="md-tabs__link">
          
  
  Placa Imagina 3DBot

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../montajeImpresa/" class="md-tabs__link">
          
  
  3DBot

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Miscelanea/about/" class="md-tabs__link">
          
  
  Miscelanea

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="3DBot con ESP32 STEAMakers" class="md-nav__button md-logo" aria-label="3DBot con ESP32 STEAMakers" data-md-component="logo">
      
  <img src="../../img/favicon.png" alt="logo">

    </a>
    3DBot con ESP32 STEAMakers
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fgcoca/3DBot-con-ESP32-STEAMakers" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    3DBot-con-ESP32-STEAMakers
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arduinoblocks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Arduinoblocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arduinoblocks/introAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arduinoblocks/gestionados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usuarios gestionados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arduinoblocks/proyectos_alumnos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creación de proyectos para alumnos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    IDE 2 de Arduino
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            IDE 2 de Arduino
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/introIDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/codigoAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Código en Arduinoblocks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/descarga/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Descarga del IDE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/ventanaIDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ventana principal del IDE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/caracteristicasIDE2_0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Características principales del IDE 2.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ESP32 STEAMakers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ESP32 STEAMakers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ESP32/introESP32/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ESP32/Cenergia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consumo de energia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ESP32/Stactil/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensores táctiles capacitivos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ESP32/Sinternos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensores internos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ESP32/microSD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tarjeta microSD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Placa Imagina 3DBot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Placa Imagina 3DBot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Imagina/introImagina/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Imagina/distribucion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asociación de pines y componentes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Imagina/IoT_basico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría básica de IoT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Actividades con la placa Imagina
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Actividades con la placa Imagina
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Imagina/actividades/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Básicas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Imagina/amplia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    De ampliación
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Imagina/avanzadas_imagina/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Avanzadas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    3DBot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            3DBot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../montajeImpresa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Montaje versión impresa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../montajeCorte/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Montaje versión corte en madera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../motorDC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    El motor DC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" checked>
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Actividades con el 3Dbot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Actividades con el 3Dbot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AI_3DBot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Iniciales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AAm_3DBot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    De ampliación
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Avanzadas
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Avanzadas
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#telegram-movimientos-3dbot" class="md-nav__link">
    <span class="md-ellipsis">
      Telegram. Movimientos 3DBot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram-movimientos-y-control-de-consumo-3dbot" class="md-nav__link">
    <span class="md-ellipsis">
      Telegram. Movimientos y control de consumo 3DBot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mqtt-control-del-3dbot-con-iot" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT. Control del 3DBot con IoT
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MQTT. Control del 3DBot con IoT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mqtt_aav1-generar-datos-y-publicar-temas" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT_AAv1. Generar datos y publicar temas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mqtt_aav2-control-del-led-verde-desde-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT_AAv2. Control del LED verde desde la aplicación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mejora-de-mqtt_aav2" class="md-nav__link">
    <span class="md-ellipsis">
      Mejora de MQTT_AAv2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mqtt_aav3-control-del-robot" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT_AAv3. Control del robot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mejora-de-mqtt_aav3" class="md-nav__link">
    <span class="md-ellipsis">
      Mejora de MQTT_AAv3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iot-con-thingspeak" class="md-nav__link">
    <span class="md-ellipsis">
      IoT con ThingSpeak
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IoT con ThingSpeak">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aav4_iot-con-3dbot-modo-dato-a-dato" class="md-nav__link">
    <span class="md-ellipsis">
      AAv4_IoT con 3DBot: modo dato a dato
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aav5_iot-con-3dbot-publicacion-multiple" class="md-nav__link">
    <span class="md-ellipsis">
      AAv5_IoT con 3DBot: publicacion multiple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../archivosFab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archivos del diseño
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Miscelanea
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Miscelanea
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/lic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/webgrafia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webgrafia/Bibliografía
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/soft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software utilizado
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#telegram-movimientos-3dbot" class="md-nav__link">
    <span class="md-ellipsis">
      Telegram. Movimientos 3DBot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram-movimientos-y-control-de-consumo-3dbot" class="md-nav__link">
    <span class="md-ellipsis">
      Telegram. Movimientos y control de consumo 3DBot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mqtt-control-del-3dbot-con-iot" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT. Control del 3DBot con IoT
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MQTT. Control del 3DBot con IoT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mqtt_aav1-generar-datos-y-publicar-temas" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT_AAv1. Generar datos y publicar temas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mqtt_aav2-control-del-led-verde-desde-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT_AAv2. Control del LED verde desde la aplicación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mejora-de-mqtt_aav2" class="md-nav__link">
    <span class="md-ellipsis">
      Mejora de MQTT_AAv2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mqtt_aav3-control-del-robot" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT_AAv3. Control del robot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mejora-de-mqtt_aav3" class="md-nav__link">
    <span class="md-ellipsis">
      Mejora de MQTT_AAv3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iot-con-thingspeak" class="md-nav__link">
    <span class="md-ellipsis">
      IoT con ThingSpeak
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IoT con ThingSpeak">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aav4_iot-con-3dbot-modo-dato-a-dato" class="md-nav__link">
    <span class="md-ellipsis">
      AAv4_IoT con 3DBot: modo dato a dato
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aav5_iot-con-3dbot-publicacion-multiple" class="md-nav__link">
    <span class="md-ellipsis">
      AAv5_IoT con 3DBot: publicacion multiple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="actividades-3dbot"><FONT COLOR=#8B008B>Actividades 3DBot</font><a class="headerlink" href="#actividades-3dbot" title="Permanent link">&para;</a></h1>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/act_3dbot_1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Robot 3DBot" src="../../img/3DBot/actividades/act_3dbot_1.png" /></a><br />
<em>Robot 3DBot</em>  </p>
<p></center></p>
<p>En esta sección realizaremos ejercicios con elementos IoT, interactuar con Telegram, Bluetooth, mando Nunchuk. Todo ello basado en:</p>
<p><a href="https://shop.innovadidactic.com/es/imagina-steam-y-makers/1598-kit-imagina-arduino-3dbot-esp32-steamakers-para-arduinoblocks.html">Manual 3DBot</a> de <a href="https://shop.innovadidactic.com/es/">Innova Didactic</a></p>
<p>Tutorial de Pedro Ruiz <a href="https://pedroruizf.github.io/ejemplos_3dbot/index.html">Ejemplos 3DBot + ESP32 STEAMakers</a></p>
<p>Se recomienda revisar los contenidos en <a href="../../Imagina/avanzadas_imagina/">actividades avanzadas con la placa Imagina 3DBot</a> antes de afrontar esta actividad con el robot.</p>
<h2 id="telegram-movimientos-3dbot"><FONT COLOR=#007575><strong>Telegram. Movimientos 3DBot</strong></font><a class="headerlink" href="#telegram-movimientos-3dbot" title="Permanent link">&para;</a></h2>
<p>Ejemplo basado en el tutorial de Pedro Ruiz <a href="https://pedroruizf.github.io/ejemplos_3dbot/index.html">Ejemplos 3DBot + ESP32 STEAMakers</a>.</p>
<p>Lo que haremos será controlar los movimientos del robot mediante un bot de Telegram.</p>
<p>Comenzamos por configurar la conexión WiFi y el API Token de Telegram.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/act_3dbot_2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Telegram. Movimientos 3DBot" src="../../img/3DBot/actividades/act_3dbot_2.png" /></a><br />
<em>Telegram. Movimientos 3DBot</em>  </p>
<p></center></p>
<p>Definimos las siguientes funciones con paso de valor desde una variable:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/act_3dbot_3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Telegram. Movimientos 3DBot" src="../../img/3DBot/actividades/act_3dbot_3.png" /></a><br />
<em>Telegram. Movimientos 3DBot</em>  </p>
<p></center></p>
<p>Finalmente configuramos el evento de Telegram 'Nuevo mensaje recibido' y ya podemos subir el programa a la placa.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/act_3dbot_4.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Telegram. Movimientos 3DBot" src="../../img/3DBot/actividades/act_3dbot_4.svg" /></a><br />
<em>Telegram. Movimientos 3DBot</em><br />
Clic sobre la imagen para ampliarla<br />
<a href="http://www.arduinoblocks.com/web/project/1715586">Acceder al programa</a></p>
<p></center></p>
<h2 id="telegram-movimientos-y-control-de-consumo-3dbot"><FONT COLOR=#007575><strong>Telegram. Movimientos y control de consumo 3DBot</strong></font><a class="headerlink" href="#telegram-movimientos-y-control-de-consumo-3dbot" title="Permanent link">&para;</a></h2>
<p>Ejemplo basado en el tutorial de Pedro Ruiz <a href="https://pedroruizf.github.io/ejemplos_3dbot/index.html">Ejemplos 3DBot + ESP32 STEAMakers</a>.</p>
<p>Lo que haremos será controlar los movimientos del robot y consultar los datos de sus sensores tanto internos como e la placa Imagina 3DBot mediante un bot de Telegram.</p>
<p>Partimos del ejemplo anterior y comenzamos por configurar la conexión WiFi y el API Token de Telegram.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/act_3dbot_2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Telegram. Movimientos 3DBot" src="../../img/3DBot/actividades/act_3dbot_2.png" /></a><br />
<em>Telegram. Movimientos 3DBot</em>  </p>
<p></center></p>
<p>Las funciones y bloques del ejemplo anterior los dejamos como están.</p>
<p>Modificamos el mensaje de ayuda para que tenga estos textos:</p>
<blockquote>
<p>/ayuda o /help: ordenes disponibles; /adelante /atras /izda /dcha /Rizda para rotar a la izquierda /Rdcha para rotar a la derecha  /Gizda para giro atras izquierda /Gdcha para giro atras derecha /internos para consultar valores de sensores internos /distancia da la distancia a objeto /luz da el valor de luminosidad /ambiente da la temperatura ambiente</p>
</blockquote>
<p>Añadir la función y bloques que vemos seguidamente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/act_3dbot_5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Telegram. Movimientos y control de consumo 3DBot" src="../../img/3DBot/actividades/act_3dbot_5.png" /></a><br />
<em>Telegram. Movimientos y control de consumo 3DBot</em><br />
<a href="http://www.arduinoblocks.com/web/project/1715595">Acceder al programa</a></p>
<p></center></p>
<h2 id="mqtt-control-del-3dbot-con-iot"><FONT COLOR=#007575><strong>MQTT. Control del 3DBot con IoT</strong></font><a class="headerlink" href="#mqtt-control-del-3dbot-con-iot" title="Permanent link">&para;</a></h2>
<p>En <a href="../../Imagina/IoT_basico/">Teoría básica de IoT</a> tienes disponible información mas extensa sobre el tema de IoT y MQTT.</p>
<p><strong>MQTT</strong> es un protocolo de comunicación entre diferentes dispositivos (clientes, nodos) a través de un servidor (broker), mediante la publicación/suscripción de mensajes asociados a temas (topics).</p>
<p>Es muy ligero, consume muy pocos recursos. Esto lo hace idóneo para trabajar la IoT con sensores y dispositivos de baja potencia. El uso de entornos gráficos de programación permite trabajar con MQTT de forma creativa a muchos niveles.</p>
<p>El bloque 'Iniciar' de la categoría <em>'Comunicaciones - WiFi /IoT - MQTT Client'</em> permite definir los parámetros de la comunicación:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/iniciar_comunic.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT. Control del 3DBot con IoT" src="../../img/3DBot/actividades/iniciar_comunic.png" /></a><br />
<em>MQTT. Control del 3DBot con IoT</em>  </p>
<p></center></p>
<p>Para poder trabajar con estos elementos utilizamos:</p>
<ul>
<li>una placa ESP32 STEAMakers que enviará datos a un broker MQTT</li>
<li>un servidor MQTT que puede ser público, gratuito y sin configuración como <strong>mqtt.eclipseprojects.io</strong> o <strong>broker.hivemq.com</strong> o bien uno propio creado con <a href="https://mosquitto.org/">mosquitto</a></li>
<li>un dispositivo móvil que se suscribirá a los temas publicados a través de una aplicación móvil. Existen muchas aplicaciones, unas mas completas que otras, y veremos algunas en las actividades que vamos a hacer sobre el tema, pero para mi la mas completa es <strong>IoT MQTT Panel</strong>.</li>
</ul>
<p style="background-color:#005000;"><FONT COLOR=#FFFFFF><font size="4"><b>Debemos tener en cuenta que los servidores MQTT públicos gratuitos no son seguros y cualquiera puede suscribirse a nuestros mensajes y publicar en ellos, y en consecuencia podrán enviar órdenes. Se recomienda utilizar estos brokers solamente en sistemas educativos y de pruebas</font color></font size></b></p>

<h3 id="mqtt_aav1-generar-datos-y-publicar-temas"><FONT COLOR=#AA0000>MQTT_AAv1. Generar datos y publicar temas</font><a class="headerlink" href="#mqtt_aav1-generar-datos-y-publicar-temas" title="Permanent link">&para;</a></h3>
<p>Para explicar un poco el funcionamiento básico vamos a hacer que la placa ESP32 STEAMakers genere un dato (un número entre 1 y 100) y lo vamos a publicar en <strong>broker.hivemq.com</strong> para visualizarlo en tres aplicaciones diferentes.</p>
<p>En este primer ejemplo publica el topic la placa y se suscribe la aplicación.</p>
<p>Vamos a comenzar por instalar en un smartphone las siguientes apps:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/apps.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1. Apps" src="../../img/3DBot/actividades/apps.png" /></a><br />
<em>MQTT_AAv1. Apps</em><br />
<a href="https://play.google.com/store/apps/details?id=snr.lab.iotmqttpanel.prod&amp;hl=es&amp;gl=US">IoT MQTT Panel</a> -- <a href="https://play.google.com/store/apps/details?id=at.tripwire.mqtt.client&amp;hl=es&amp;gl=US">MyMQTT</a> -- <a href="https://play.google.com/store/apps/details?id=com.oytechnologyy.mqtt_dashboard">MQTT Dashboard</a></p>
<p></center></p>
<p>Vamos a comenzar por crear el programa siguiente y subirlo a la placa:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1.png" /></a><br />
<em>MQTT_AAv1</em><br />
<a href="http://www.arduinoblocks.com/web/project/1750268">Acceder al programa</a></p>
<p></center></p>
<p><FONT COLOR=#FF0000><b>MUY IMPORTANTE: el Client ID de Arduinoblocks NO puede ser el mismo que el Cliente Id escrito en la aplicación, ya que un broker NO puede tener dos identificadores de cliente iguales.</font color></b></p>
<p>A continuación vamos a ver resultados en las tres APPs citadas.</p>
<ul>
<li><FONT COLOR=#BB00FF><font size="5"><b>MyMQTT</font color></font size></b></li>
</ul>
<p>Comenzamos por configurar la APP y conectarnos al broker:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt1.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Nos suscribimos al topic establecido en el programa:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt2.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Una vez suscritos y configurada la conexión el topic queda habilitado:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt3.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>El panel o tablero (dashboard) comienza a recibir los números:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt4.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<ul>
<li><FONT COLOR=#BB00FF><font size="5"><b>MQTT Dashboard</font color></font size></b></li>
</ul>
<p>Lo primero que debemos hacer es añadir un broker:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt5.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Ahora introducimos los datos del broker y lo salvamos:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt6.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Ya tenemos el broker. Si entramos en el mismo ya podemos conectarnos mediante el botón 'Connect' y poder continuar:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt7.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Configurado el broker y conectados al mismo, ya podemos suscribirnos al topic mediante el botón 'Subscriber':</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt8.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Realizada la suscripción veremos algo como:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt9.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Ya podemos ver como se reciben los datos:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt10.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<ul>
<li><FONT COLOR=#BB00FF><font size="5"><b>IoT MQTT Panel</font color></font size></b></li>
</ul>
<p>Con las APPs anterior vemos los datos de forma numérica o textual. ahora vamos a ver esos mismos datos pero añadiendo objetos al panel.</p>
<p>Vamos a describir los pasos a seguir con <strong>IoT MQTT Panel</strong>. La primera vez que iniciamos la APP se nos presenta la siguiente pantalla:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt11.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt11.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Indicando que debemos establecer un nombre, un broker, el puerto y añadir un panel:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt12.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt12.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>El 'Client ID' lo puedes dejar en blanco (la aplicación generará uno aleatoriamente) o escribir uno.</p>
<p><FONT COLOR=#FF0000><b>MUY IMPORTANTE: este Client ID NO puede ser el mismo que el Cliente Id escrito en Arduinoblocks, ya que un broker NO puede tener dos identificadores de cliente iguales.</font color></b></p>
<p>El panel de conexiones mostrará las que tengamos configuradas:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt13.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt13.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Si todo ha ido bien, verás un icono en forma de nube de color naranja en la esquina superior derecha, que indica que la aplicación se ha conectado correctamente al broker.</p>
<p>Si, en cambio, ves un icono en forma de nube de color gris tachado, revisa los datos de la conexión.</p>
<p>Pulsando sobre la nube naranja accedemos al dashboard añadido anteriormente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt14.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt14.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>Pulsa el botón "ADD PANEL" y se mostrará una lista de los 21 artilugios disponibles, que son:</p>
<blockquote>
<ul>
<li><em>Button</em></li>
<li><em>Switch</em></li>
<li><em>Slider</em></li>
<li><em>Text Input</em></li>
<li><em>Text Log</em></li>
<li><em>Node Status</em></li>
<li><em>Combo Box</em></li>
<li><em>Radio Buttons</em></li>
<li><em>LED Indicator</em></li>
<li><em>Multi-State Indicator</em></li>
<li><em>Progress</em></li>
<li><em>Gauge</em></li>
<li><em>Color Picker</em></li>
<li><em>Date &amp; Time Picker</em></li>
<li><em>Line Graph</em></li>
<li><em>Bar Graph</em></li>
<li><em>Chart</em></li>
<li><em>Image</em></li>
<li><em>Barcode Scanner</em></li>
<li><em>URI Launcher</em></li>
<li><em>Layout Decorator</em></li>
</ul>
</blockquote>
<p>Como ejemplo añadiremos un <em>Progress</em> (barra de progreso) y un <em>Gauge</em> o indicador de aguja, como se muestra en las siguientes imágenes:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt15.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt15.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p>A continuación vemos una captura recibiendo datos:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv1_mymqtt16.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv1" src="../../img/3DBot/actividades/MQTT_AAv1_mymqtt16.png" /></a><br />
<em>MQTT_AAv1</em>  </p>
<p></center></p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Icono</th>
<th>Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><a class="glightbox" href="../../img/3DBot/actividades/nubeN.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/3DBot/actividades/nubeN.png" /></a></td>
<td>El icono naranja de la nube (parte superior derecha) indica que la conexión con el broker es correcta</td>
</tr>
<tr>
<td style="text-align: center;"><a class="glightbox" href="../../img/3DBot/actividades/nubeG.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/3DBot/actividades/nubeG.png" /></a></td>
<td>Podemos desconectarnos pulsando el icono naranja, que cambiará a gris o conectarnos si está en gris</td>
</tr>
<tr>
<td style="text-align: center;"><a class="glightbox" href="../../img/3DBot/actividades/alterno.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/3DBot/actividades/alterno.png" /></a></td>
<td>Si el icono parpadea entre estos dos significa que nuestro Cliente ID está repetido en el broker y, por tanto, debemos cambiarlo por otro</td>
</tr>
</tbody>
</table>
<p></center></p>
<h3 id="mqtt_aav2-control-del-led-verde-desde-la-aplicacion"><FONT COLOR=#AA0000>MQTT_AAv2. Control del LED verde desde la aplicación</font><a class="headerlink" href="#mqtt_aav2-control-del-led-verde-desde-la-aplicacion" title="Permanent link">&para;</a></h3>
<p>Vamos a controlar desde la aplicación <strong>IoT MQTT Panel</strong> del móvil el LED verde (D3 / IO25) de la placa Imagina 3DBot.</p>
<p>Utilizamos:</p>
<ul>
<li>un dispositivo móvil que generará datos y publicará temas a través de una aplicación móvil</li>
<li>un servidor MQTT público, gratuito y sin configuración</li>
<li>una placa ESP32 STEAMakers que se suscribirá a los temas publicados y generará acciones</li>
</ul>
<p>En este ejemplo publica el topic la aplicación y se suscribe la placa.</p>
<p>Comenzamos por dirigirnos a la página principal de la aplicación (donde se muestran las conexiones). Si no estamos ahí podemos escoger "All Connections" del menú que nos muestran las tres líneas de la esquina superior izquierda.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt1.png" /></a><br />
<em>MQTT_AAv2</em>  </p>
<p></center></p>
<p>Pulsamos sobre 'Pruebas 3dbot" y sobre los tres puntos a la derecha de nube, se despliega un menú en el que vamos a escoger "Add a new dashboard":</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt2.png" /></a><br />
<em>MQTT_AAv2</em>  </p>
<p></center></p>
<p>Cumplimentamos los campos como vemos a continuación y pulsamos sobre el botón "CREATE":</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt3.png" /></a><br />
<em>MQTT_AAv2</em>  </p>
<p></center></p>
<p>Entra en el nuevo panel pulsando el botón en la parte inferior y después pulsa el botón "ADD PANEL".</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt4.png" /></a><br />
<em>MQTT_AAv2</em>  </p>
<p></center></p>
<p>Selecciona un artilugio Button para encender el LED y otro para apagar el LED:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt5.png" /></a><br />
<em>MQTT_AAv2</em>  </p>
<p></center></p>
<p>La situación de la aplicación es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt6.png" /></a><br />
<em>MQTT_AAv2</em>  </p>
<p></center></p>
<p>Abre un nuevo proyecto en Arduinoblocks y sube el programa siguiente a la placa (<FONT COLOR=#FF0000><b>recuerda que el Cliente Id del blog MQTT Iniciar NO puede ser el mismo que el del aplique IoT MQTT Panel</font color></b>):</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2.png" /></a><br />
<em>MQTT_AAv2</em><br />
<a href="http://www.arduinoblocks.com/web/project/1750302">Acceder al programa</a></p>
<p></center></p>
<h3 id="mejora-de-mqtt_aav2"><FONT COLOR=#AA0000>Mejora de MQTT_AAv2</font><a class="headerlink" href="#mejora-de-mqtt_aav2" title="Permanent link">&para;</a></h3>
<p>Con el ánimo de ampliar un poco el manejo de la aplicación vamos a añadirle algunos elementos a la misma sin cambiar nada en el programa que cargamos en la placa ESP32 STEAMakers. Comenzamos por añadir un "LED indicator", que simplemente nos va a mostrar el estado del diodo LED verde. Establecemos la configuración que vemos en la imagen siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mejora MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt7.png" /></a><br />
<em>Mejora MQTT_AAv2</em>  </p>
<p></center></p>
<p>El segundo elemento que vamos a añadir es un "Switch" que configuramos de la forma que vemos a continuación:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mejora MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt8.png" /></a><br />
<em>Mejora MQTT_AAv2</em>  </p>
<p></center></p>
<p>Al activar "Use icon switch" se permite configurar los colores de encendido y apagado y además pulsando sobre las áreas señaladas se nos despliega una ventana donde podemos elegir el icono apropiado de entre los disponibles.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv2_mymqtt9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mejora MQTT_AAv2" src="../../img/3DBot/actividades/MQTT_AAv2_mymqtt9.png" /></a><br />
<em>Mejora MQTT_AAv2</em>  </p>
<p></center></p>
<p>En la aplicación el funcionamiento es el que vemos en la animación siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT-AAv2-mymqtt10.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mejora MQTT_AAv2" src="../../img/3DBot/actividades/MQTT-AAv2-mymqtt10.gif" /></a><br />
<em>Mejora MQTT_AAv2</em>  </p>
<p></center></p>
<h3 id="mqtt_aav3-control-del-robot"><FONT COLOR=#AA0000>MQTT_AAv3. Control del robot</font><a class="headerlink" href="#mqtt_aav3-control-del-robot" title="Permanent link">&para;</a></h3>
<p>Comenzamos por añadir un nuevo Dashboard a nuestro panel de control:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_mymqtt1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_mymqtt1.png" /></a><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_mymqtt1a.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_mymqtt1a.png" /></a>
<em>MQTT_AAv3</em>  </p>
<p></center></p>
<p>Añadimos como primer elemento un "Button" que configuramos de la forma que vemos a continuación:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_mymqtt2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_mymqtt2.png" /></a><br />
<em>MQTT_AAv3</em>  </p>
<p></center></p>
<p>Utilizando la herramienta de copia que está junto al signo de añadir panel copiamos el anterior y lo editamos para crear el botón atrás. En nuestro caso le cambiamos el color y el icono y obligato8riamente le asignamos su valor en "Payload". Seguimos haciendo esta operación hasta añadir todos los botones necesarios y nos quedará una configuración como la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_mymqtt3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_mymqtt3.png" /></a><br />
<em>MQTT_AAv3</em>  </p>
<p></center></p>
<p>El programa lo vemos en la imagen siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3.png" /></a><br />
<em>MQTT_AAv3</em><br />
<a href="http://www.arduinoblocks.com/web/project/1766818">Acceder al programa</a></p>
<p></center></p>
<h3 id="mejora-de-mqtt_aav3"><FONT COLOR=#AA0000>Mejora de MQTT_AAv3</font><a class="headerlink" href="#mejora-de-mqtt_aav3" title="Permanent link">&para;</a></h3>
<p>Una vez comprobado que la actividad <strong>"MQTT_AAv3. Control del robot"</strong> funciona correctamente vamos a hacer que la placa envie a la aplicación del móvil un mensaje con la indicación del movimiento que se está realizando.</p>
<p>En la aplicación añadimos un panel de tipo "Text Log" que configuramos como vemos a continuación:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_mymqtt4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mejora MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_mymqtt4.png" /></a><br />
<em>Mejora MQTT_AAv3</em>  </p>
<p></center></p>
<p>En cada movimiento, tras realizar el mismo se actualiza el valor de la variable de texto 'estado' que es donde escribimos el movimiento que se está realizando. A continuación vemos parte de estos movimientos y valor de dicha variable.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_mymqtt5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mejora MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_mymqtt5.png" /></a><br />
<em>Mejora MQTT_AAv3</em>  </p>
<p></center></p>
<p>El programa lo vemos en la imagen siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv3_Mejorada.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv3" src="../../img/3DBot/actividades/MQTT_AAv3_Mejorada.png" /></a><br />
<em>MQTT_AAv3</em><br />
<a href="http://www.arduinoblocks.com/web/project/1767444">Acceder al programa</a></p>
<p></center></p>
<h2 id="iot-con-thingspeak"><FONT COLOR=#007575><strong>IoT con ThingSpeak</strong></font><a class="headerlink" href="#iot-con-thingspeak" title="Permanent link">&para;</a></h2>
<p>Vamos a crear unas actividades de IoT con el robot para subir datos al broker ThingSpeak mientras el robot va siguiendo la línea negra, tal y como vimos en la <a href="http://127.0.0.1:8000/3DBot-con-ESP32-STEAMakers/3DBot/AAm_3DBot/#a_05_2-segunda-version-de-seguidor-de-linea">A_05_2. Segunda versión de seguidor de línea</a>.</p>
<h3 id="aav4_iot-con-3dbot-modo-dato-a-dato"><FONT COLOR=#AA0000>AAv4_IoT con 3DBot: modo dato a dato</font><a class="headerlink" href="#aav4_iot-con-3dbot-modo-dato-a-dato" title="Permanent link">&para;</a></h3>
<p>En esta actividad vamos a crear un ejemplo en el que subimos los datos a ThinSpeak de uno en uno. Recuperamos el ejemplo para que el robot se mueva por el circuito y añadimos funciones para leer los sensores y subir datos a la nube.</p>
<p>En los ejemplos del apartado <a href="http://127.0.0.1:8000/3DBot-con-ESP32-STEAMakers/Imagina/avanzadas_imagina/#subir-datos-a-internet">Subir datos a Internet</a> dentro de las <a href="http://127.0.0.1:8000/3DBot-con-ESP32-STEAMakers/Imagina/avanzadas_imagina/">actividades avanzadas con la placa Imagina</a> tenemos descritos los pasos a seguir para subir datos a ThingSpeak. Trabajaremos también con un canal y variables ampliando a alguna mas que vemos seguidamente.</p>
<p>Se procede siempre a configurar la conexión WiFi y la inicialización de MQTT en el bucle 'Inicializar'. A continuación establecemos los movimientos del robot y finalmente creamos la función 'subir datos' que enviará uno a uno los valores medidos a la nube. El retardo establecido de 2000 ms es posible porque las pruebas se realizan en una cuenta de pago. A continuación tenemos el programa que soluciona la actividad.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv4" src="../../img/3DBot/actividades/MQTT_AAv4.png" /></a><br />
<em>MQTT_AAv4</em><br />
<a href="http://www.arduinoblocks.com/web/project/1803671">Acceder al programa</a></p>
<p></center></p>
<p>La imagen siguiente muestra algunos resultados obtenidos:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv4_res.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv4" src="../../img/3DBot/actividades/MQTT_AAv4_res.png" /></a><br />
<em>MQTT_AAv4</em>  </p>
<p></center></p>
<h3 id="aav5_iot-con-3dbot-publicacion-multiple"><FONT COLOR=#AA0000>AAv5_IoT con 3DBot: publicacion multiple</font><a class="headerlink" href="#aav5_iot-con-3dbot-publicacion-multiple" title="Permanent link">&para;</a></h3>
<p>En Arduinoblocks se han creado unos nuevos bloques que permiten publicar múltiples valores vía MQTT con ThingSpeak. Ahora se permite enviar varios datos a la vez sin tener en cuenta las restricciones de tiempo mínimo entre publicaciones impuestas por el broker. Es decir, se suben todos los datos al mismo tiempo debiendose mantener el tiempo entre subidas.</p>
<p>En la imagen podemos observar la nueva forma que toma la función 'subir datos' con estos nuevos bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv5_Subir.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv5" src="../../img/3DBot/actividades/MQTT_AAv5_Subir.png" /></a><br />
<em>MQTT_AAv5</em>  </p>
<p></center></p>
<p>El programa es el siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv5" src="../../img/3DBot/actividades/MQTT_AAv5.png" /></a><br />
<em>MQTT_AAv5</em><br />
<a href="http://www.arduinoblocks.com/web/project/1807003">Acceder al programa</a></p>
<p></center></p>
<p>La imagen siguiente muestra algunos resultados obtenidos:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/3DBot/actividades/MQTT_AAv5_res.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="MQTT_AAv5" src="../../img/3DBot/actividades/MQTT_AAv5_res.png" /></a><br />
<em>MQTT_AAv5</em>  </p>
<p></center></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2035 Federico Coca
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://x.com/fgcoca" target="_blank" rel="noopener" title="X de Federico Coca" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/fgcoca" target="_blank" rel="noopener" title="Github de Federico Coca" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.instagram.com/cocafederico/?hl=es" target="_blank" rel="noopener" title="Instagram de Federico Coca" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/clubroboticagra" target="_blank" rel="noopener" title="X de Club Robótica Granada" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
        <script src="../../plugins/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>